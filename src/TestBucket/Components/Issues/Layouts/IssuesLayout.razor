@inherits LayoutComponentBase
@layout AppLayout
@using Humanizer
@inject TestCaseEditorController testCaseEditor
@inject NavigationManager navigationManager
@inject AppNavigationManager appNavigationManager
@inject IStringLocalizer<SharedStrings> loc
@inject IStringLocalizer<IssueStrings> issueLoc
<TenantRedirect />

<Splitter Style="height: 100%" Bordered="false" Dimension="15" EnableMargin="false" Color="Color.Tertiary">
    <StartContent>

        <MudStack Class="pa-2" Style="width: 100%;">
            <MudNavLink Href="@Open">@issueLoc["open"]</MudNavLink>
            <MudNavLink Href="@OpenHighPrio">@issueLoc["high-prio"]</MudNavLink>
            <MudNavLink Href="@OpenIncidents">@issueLoc["open-incidents"]</MudNavLink>
            <MudNavLink Href="@Closed">@issueLoc["closed"]</MudNavLink>
        </MudStack>

    </StartContent>

    <EndContent>
        @Body
    </EndContent>
</Splitter>

@code {
    [CascadingParameter] TestProject? Project { get; set; }
    [CascadingParameter] Team? Team { get; set; }

    private string OpenHighPrio => appNavigationManager.GetIssuesUrl() + "?q=is:open%20priority:High";
    private string Open => appNavigationManager.GetIssuesUrl() + "?q=state:open";
    private string OpenIncidents => appNavigationManager.GetIssuesUrl() + "?q=is:incident%20state:open";
    private string Closed => appNavigationManager.GetIssuesUrl() + "?q=state:closed";

}