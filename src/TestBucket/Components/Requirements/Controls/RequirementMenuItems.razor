@inject RequirementEditorController editor
@inject TestCaseEditorController testCaseEditor

@if(Requirement is not null)
{
    <MudMenuItem Icon="@Icons.Material.Filled.Link" OnClick="() => LinkRequirementToTestCaseAsync()" Label="Link to test" />
    <CommandMenuItems TypeNames="Requirement"/>
    <MudDivider />
}
@code {
    [Parameter] public Requirement? Requirement { get; set; }
    [Parameter] public TestProject? Project { get; set; }
    [Parameter] public Team? Team { get; set; }

    private async Task LinkRequirementToTestCaseAsync()
    {
        if (Requirement is null)
        {
            return;
        }

        await editor.LinkRequirementToTestCaseAsync(Requirement, Project, Team);
    }
}
